<ion-view cache-view="false" title="Asignacion Piscina">
	  <ion-header-bar class="bar-subheader headerbar item-input-inset row">
	      <div class="input-field col s12">
	        <i class="ion-search prefix"></i>
	        <input type="text" name="buscar" class="white-text" placeholder="Buscar" ng-model="search" >
	      </div>
	  </ion-header-bar>
	<ion-content overflow-scroll=”true”>
      <ion-refresher
       pulling-text ="Refrescar"
       on-refresh="reload()"
       refreshingText="Refrescando"
       >
     </ion-refresher>
		<ion-list>
		  <ion-item collection-repeat="piscina in piscinas|filter:search" class="collection-item" on-tap="piscina.check=!piscina.check; asignar(piscina.id, piscina)">
				<div class="">
					<h2>{{piscina.nombre}}</h2>
						<p>
								<b>Cliente:</b> {{piscina.casa__cliente__first_name}} {{piscina.casa__cliente__last_name}}<br>
								<b>Casa:</b>  {{piscina.casa__direccion}}<br>
								<b>Tipo Piscina:</b> {{piscina.tipo__nombre}}<br>
								<b>Estado:</b> <b class="light-blue-text" ng-show="piscina.estado">Buen Estado</b> <b class="red-text" ng-show="!piscina.estado">Reportada</b>
						</p>
					<div class="secondary-content">
							<input type="checkbox" class="checkbox red" id="piscina{{piscina.id}}" ng-model="piscina.check" ng-change="asignar(piscina.id, piscina)"/>
							<label for="piscina{{piscina.id}}"></label>
					</div>
				</div>
		  </ion-item>
		</ion-list>
		<ion-infinite-scroll ng-if="!noMoreItemsAvailable" on-infinite="loadMore()" distance="10%"></ion-infinite-scroll>
  </ion-content>
</ion-view>
